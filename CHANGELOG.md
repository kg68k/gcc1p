# 変更履歴

## 2025-08-23

* X680x0版独自オプションの解析処理をリファクタリング。
* `-O0`オプション指定時に`__OPTIMIZE__`マクロが定義される不具合を修正。


## patchlevel 8 (2025-03-08)

* プログラム実行エラー時の表示を日本語化。実際に起動しようとしたプログラム名を
  表示するようにした。
* 環境変数`GCC_AS`で指定したファイルを実行する際に、環境変数`path`から検索するようにした。
  * 真里子版GCCでは`spawnv()`関数を用いて実行していたが、XCライブラリでは(関数名や
    関数仕様に反し)`path`を検索する挙動であったため、フルパスでなくても実行できていた。
  * gcc1pではライブラリをLIBCに変更したところ、LIBCの`spawnv()`関数は仕様通り`path`を
    検索しないため動作に違いが生じた。
  * 対策として`spawnvp()`関数で実行するようにした。


## patchlevel 7 (2025-03-06)

* 最適化を制御するオプション-O0、-O1、-O2を追加しました。
* アーカイブにCOPYING、gcc_help.txtが含まれない不具合を修正。


## patchlevel 6 (2024-03-17)

* 環境変数`GCC_LIB`、`GCC_NO_XCLIB`、`GCC_XCLIB`を削除しました。
  ライブラリファイルのファイル名形式は常に`lib*.a`となります。
* 環境変数`GCC_OPTION0`の`A`、`B`を常に有効にしました。
* 環境変数`GCC_OPTION1`の`O`、`+`を常に有効にしました。
* 環境変数`GCC_AS`の既定値を`has060`に変更しました。
  * アセンブラ実行時の引数の`-e`を`-1`に変更しました。
    そのため、`-1`に対応していないアセンブラは指定できません。

